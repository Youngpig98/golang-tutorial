# Test

## Test文件命名规范

Go语言中所有的test文件都要以_test.go结尾，这样编译器就能知道这是一个测试文件，在执行go test命令时访问并运行其中的测试函数。



## Test函数规范

​	Go语言中所有的测试函数要以Test开头，比如`func TestXxx(t *testing.T)`。单元测试中，传递给测试函数的参数是 *testing.T类型。它用于管理测试状态并支持格式化测试日志。测试日志会在执行测试的过程中不断累积，并在测试完成时转储至标准输出。



## t.Run() 注册子测试函数

T和B的Run方法允许定义子单元测试和子基准测试，而不必为它们单独定义函数。这便于创建基于Table-Driven的基准测试和层级测试。

​	`func(t *T) Run(name string, f func(t *T)) bool`这个函数的第一个参数是测试名称，第二个参数是一个测试函数。具体的测试逻辑定义在传入的测试函数中。

## benchmark函数

基准测试要以Benchmark开头，比如`func BenchmarkXxx(b *testing.B)`

Testing.B是传递给基准测试函数的一种类型，它用于管理基准测试的计时行为，并指示应该迭代地运行测试多少次。

## b.N

b.N是基准测试框架提供的，表示循环的次数，因为需要反复调用测试代码，才可以评估性能。运行时，基准测试框架将按照自动分配N地大小。